{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchImages.js","../src/img/icon-close.svg","../src/js/main.js"],"sourcesContent":["export default function fetchImages(q) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const searchParams = new URLSearchParams({\n        key: '42207552-ba5ee995b0c9caa99df8c1b23',\n        q,\n      image_type: 'photo',\n        orientation: 'horizontal',\n      safesearch: true,\n    });\n    const PARAMS = `?${searchParams}`;\n    const url = BASE_URL + PARAMS;\n    \n    return fetch(url).then(response => {\n        if (!response.ok) {\n      throw new Error('Error fetching data');\n    }\n    return response.json();\n    })\n}","export default \"__VITE_ASSET__e36160dc__\"","import fetchImages from \"./fetchImages\";\nimport iconClose from \"../img/icon-close.svg\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst Refs = {\n    formSearch: document.querySelector('.form-search'),\n    galleryList: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\nconst { formSearch, galleryList, loader} = Refs;\n console.log(loader);\nformSearch.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const inputValue = formSearch.elements.query.value.trim();\n\n    if (inputValue === '') {\n        return;\n    }\n    galleryList.innerHTML = '';\n    loader.style.display = 'block';\n\n    fetchImages(inputValue)\n        .then(function ({ hits }) {\n            if (hits.length > 0) {\n                renderImage(hits)\n                formSearch.elements.query.value = '';\n                const gallery = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                })\n                gallery.refresh();\n            } else {\n               toastError('Sorry, there are no images matching your search query. Please try again!')\n            }\n        })\n        .catch(error => {\n            toastError(`Error fetching images: ${error}`)\n            }).finally(function () {\n                formSearch.reset();\n                loader.style.display = 'none';\n            })   \n}\nfunction toastError(message) {\n    iziToast.show({\n        message,\n         id: 'errorMsg',\n    iconUrl: iconClose,\n    iconColor: 'white',\n    timeout: 4000,\n    position: 'topRight',\n    backgroundColor: '#ef4040',\n    progressBarColor: '#b51b1b',\n    })\n}\nfunction imagesTemplate({webformatURL,largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"/></a>\n    <ul class=\"gallery-img-caption\">\n    <li class=\"gallery-img-info\">Likes ${likes}</li>\n    <li class=\"gallery-img-info\">Views ${views}</li>\n    <li class=\"gallery-img-info\">Comments ${comments}</li>\n    <li class=\"gallery-img-info\">Downloads ${downloads}</li>\n    </ul>\n    </li>`; \n}\nfunction renderImage(images) {\n    const markup = images.map(image => imagesTemplate(image)).join('');\n    galleryList.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["fetchImages","q","BASE_URL","PARAMS","url","response","iconClose","Refs","formSearch","galleryList","loader","onFormSubmit","e","inputValue","hits","renderImage","SimpleLightbox","toastError","error","message","iziToast","imagesTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","images","markup","image"],"mappings":"6vBAAe,SAASA,EAAYC,EAAG,CACnC,MAAMC,EAAW,2BAQXC,EAAS,IAPM,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAAF,EACF,WAAY,QACV,YAAa,aACf,WAAY,EAClB,CAAK,CAC8B,GACzBG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GAChB,MAAM,IAAI,MAAM,qBAAqB,EAEvC,OAAOA,EAAS,MACpB,CAAK,CACL,CClBA,MAAeC,EAAA,gDCOTC,EAAO,CACT,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EACM,CAAE,WAAAC,EAAY,YAAAC,EAAa,OAAAC,CAAM,EAAIH,EAC1C,QAAQ,IAAIG,CAAM,EACnBF,EAAW,iBAAiB,SAAUG,CAAY,EAElD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAAaL,EAAW,SAAS,MAAM,MAAM,OAE/CK,IAAe,KAGnBJ,EAAY,UAAY,GACxBC,EAAO,MAAM,QAAU,QAEvBV,EAAYa,CAAU,EACjB,KAAK,SAAU,CAAE,KAAAC,GAAQ,CAClBA,EAAK,OAAS,GACdC,EAAYD,CAAI,EAChBN,EAAW,SAAS,MAAM,MAAQ,GAClB,IAAIQ,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAClC,CAAiB,EACO,QAAO,GAEhBC,EAAW,0EAA0E,CAEpG,CAAS,EACA,MAAMC,GAAS,CACZD,EAAW,0BAA0BC,CAAK,EAAE,CACxD,CAAa,EAAE,QAAQ,UAAY,CACnBV,EAAW,MAAK,EAChBE,EAAO,MAAM,QAAU,MACvC,CAAa,EACb,CACA,SAASO,EAAWE,EAAS,CACzBC,EAAS,KAAK,CACV,QAAAD,EACC,GAAI,WACT,QAASb,EACT,UAAW,QACX,QAAS,IACT,SAAU,WACV,gBAAiB,UACjB,iBAAkB,SACtB,CAAK,CACL,CACA,SAASe,EAAe,CAAC,aAAAC,EAAa,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC3F,MAAO;AAAA,oCACyBL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,yCAEvBC,CAAK;AAAA,yCACLC,CAAK;AAAA,4CACFC,CAAQ;AAAA,6CACPC,CAAS;AAAA;AAAA,UAGtD,CACA,SAASb,EAAYc,EAAQ,CACzB,MAAMC,EAASD,EAAO,IAAIE,GAASV,EAAeU,CAAK,CAAC,EAAE,KAAK,EAAE,EACjEtB,EAAY,mBAAmB,YAAaqB,CAAM,CACtD"}
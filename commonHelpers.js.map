{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchImages.js","../src/img/icon-close.svg","../src/js/main.js"],"sourcesContent":["export default function fetchImages(q) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const searchParams = new URLSearchParams({\n        key: '42207552-ba5ee995b0c9caa99df8c1b23',\n        q,\n      image_type: 'photo',\n        orientation: 'horizontal',\n      safesearch: true,\n    });\n    const PARAMS = `?${searchParams}`;\n    const url = BASE_URL + PARAMS;\n    \n    return fetch(url).then(response => {\n        if (!response.ok) {\n      throw new Error('Error fetching data');\n    }\n    return response.json();\n    })\n}","export default \"__VITE_ASSET__e36160dc__\"","import fetchImages from \"./fetchImages\";\nimport iconClose from \"../img/icon-close.svg\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst Refs = {\n    formSearch: document.querySelector('.form-search'),\n    galleryList: document.querySelector('.gallery'),\n}\nconst { formSearch, galleryList, loader} = Refs;\n \nformSearch.addEventListener('submit', onFormSubmit);\ngalleryList.addEventListener('click', onImgClick);\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const inputValue = formSearch.elements.query.value.trim();\n    galleryList.innerHTML = '';\n    if (inputValue !== '') {\n        return fetchImages(inputValue)\n            .then(data => {\n                if (data.hits.length === 0) {\n                     iziToast.error({\n                         id: 'errorMsg',\n                         iconUrl: iconClose,\n                         iconColor: 'white',\n                         message: 'Sorry, there are no images matching your search query. Please try again!',\n                         timeout: 4000,\n                         position: 'topRight',\n                         backgroundColor: '#ef4040',\n                         progressBarColor: '#b51b1b',\n                     })\n                    \n                } else {\n                    const markup = data.hits.map(image => imagesTemplate(image)).join('');\n                    galleryList.insertAdjacentHTML('beforeend', markup)\n                    formSearch.elements.query.value = '';\n                }\n            })\n            .catch(error => {\n               console.error('Error fetching images:', error);\n            })\n        \n    }\n    \n}\nfunction onImgClick(e) {\n    e.preventDefault();\n    const gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n  captionDelay: 250,\n    })\n    gallery.refresh();\n}\nfunction imagesTemplate({webformatURL,largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"300\"/></a>\n    <ul class=\"gallery-img-info\">\n    <li class=\"gallery-img-likes\">Likes ${likes}</li>\n    <li class=\"gallery-img-views\">Views ${views}</li>\n    <li class=\"gallery-img-comments\">Comments ${comments}</li>\n    <li class=\"gallery-img-downloads\">Downloads ${downloads}</li>\n    </ul>\n    </li>`;\n}\n// function renderImage(images) {\n//     // fetchImages(event).then(images => {\n//     //      const markup = q.hits.map(hit => imagesTemplate(hit)).join('');\n//     // // galleryList.insertAdjacentHTML('beforeend', markup);\n//     // })\n//     const markup = images.hits.map(image => imagesTemplate(image)).join('');\n//     galleryList.insertAdjacentHTML('beforeend', markup);\n// }\n"],"names":["fetchImages","q","BASE_URL","PARAMS","url","response","iconClose","Refs","formSearch","galleryList","loader","onFormSubmit","onImgClick","e","inputValue","data","iziToast","markup","image","imagesTemplate","error","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAAe,SAASA,EAAYC,EAAG,CACnC,MAAMC,EAAW,2BAQXC,EAAS,IAPM,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAAF,EACF,WAAY,QACV,YAAa,aACf,WAAY,EAClB,CAAK,CAC8B,GACzBG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GAChB,MAAM,IAAI,MAAM,qBAAqB,EAEvC,OAAOA,EAAS,MACpB,CAAK,CACL,CClBA,MAAeC,EAAA,gDCOTC,EAAO,CACT,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,UAAU,CAClD,EACM,CAAE,WAAAC,EAAY,YAAAC,EAAa,OAAAC,CAAM,EAAIH,EAE3CC,EAAW,iBAAiB,SAAUG,CAAY,EAClDF,EAAY,iBAAiB,QAASG,CAAU,EAChD,SAASD,EAAaE,EAAG,CACrBA,EAAE,eAAc,EAChB,MAAMC,EAAaN,EAAW,SAAS,MAAM,MAAM,OAEnD,GADAC,EAAY,UAAY,GACpBK,IAAe,GACf,OAAOd,EAAYc,CAAU,EACxB,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACpBC,EAAS,MAAM,CACX,GAAI,WACJ,QAASV,EACT,UAAW,QACX,QAAS,2EACT,QAAS,IACT,SAAU,WACV,gBAAiB,UACjB,iBAAkB,SAC3C,CAAsB,MAEC,CACH,MAAMW,EAASF,EAAK,KAAK,IAAIG,GAASC,EAAeD,CAAK,CAAC,EAAE,KAAK,EAAE,EACpET,EAAY,mBAAmB,YAAaQ,CAAM,EAClDT,EAAW,SAAS,MAAM,MAAQ,EACrC,CACjB,CAAa,EACA,MAAMY,GAAS,CACb,QAAQ,MAAM,yBAA0BA,CAAK,CAC5D,CAAa,CAIb,CACA,SAASR,EAAWC,EAAG,CACnBA,EAAE,eAAc,EACA,IAAIQ,EAAe,aAAc,CACjD,aAAc,MAChB,aAAc,GAChB,CAAK,EACO,QAAO,CACnB,CACA,SAASF,EAAe,CAAC,aAAAG,EAAa,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC3F,MAAO;AAAA,oCACyBL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA,0CAEtBC,CAAK;AAAA,0CACLC,CAAK;AAAA,gDACCC,CAAQ;AAAA,kDACNC,CAAS;AAAA;AAAA,UAG3D"}